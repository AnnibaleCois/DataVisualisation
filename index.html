<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data Visualisation</title>
    <meta charset="utf-8" />
    <meta name="author" content="Department of Global Health, Stellenbosch University &amp;   School of Public Health, University of Cape Town  Contacts: acois@sun.ac.za ORCID: 0000-0002-7014-6510 Web of Science: AAK-8603-2020" />
    <script src="index_files/header-attrs-2.20.1/header-attrs.js"></script>
    <link href="index_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="index_files/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="index_files/tile-view-0.2.6/tile-view.js"></script>
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"x11f3c029d884e26b76d4f6d926df398","expires":14}</script>
    <script src="index_files/himalaya-1.1.0/himalaya.js"></script>
    <script src="index_files/js-cookie-3.0.0/js.cookie.js"></script>
    <link href="index_files/editable-0.2.6/editable.css" rel="stylesheet" />
    <script src="index_files/editable-0.2.6/editable.js"></script>
    <script src="index_files/fabric-4.3.1/fabric.min.js"></script>
    <link href="index_files/xaringanExtra-scribble-0.0.1/scribble.css" rel="stylesheet" />
    <script src="index_files/xaringanExtra-scribble-0.0.1/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <script src="index_files/xaringanExtra-webcam-0.0.1/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <link href="index_files/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="index_files/panelset-0.2.6/panelset.js"></script>
    <script src="index_files/kePrint-0.0.1/kePrint.js"></script>
    <link href="index_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } },
      });
    </script>
    <style>
    .mjx-mrow a {
      color: black;
      pointer-events: none;
      cursor: default;
    }
    </style>
    <link rel="stylesheet" href="assets/sydney-fonts.css" type="text/css" />
    <link rel="stylesheet" href="assets/sydney.css" type="text/css" />
    <link rel="stylesheet" href="assets/stellenbosch.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Data Visualisation
]
.subtitle[
## Dr Annibale Cois
]
.author[
### <span style="font-size: 80%;">Department of Global Health, Stellenbosch University &amp; <br/> School of Public Health, University of Cape Town<br/><br/>Contacts: <a href="mailto:acois@sun.ac.za" class="email">acois@sun.ac.za</a><br/>ORCID: <a href="https://orcid.org/0000-0002-7014-6510">0000-0002-7014-6510</a><br/>Web of Science: <a href="https://www.webofscience.com/wos/author/rid/AAK-8603-2020">AAK-8603-2020</a></span>
]
.date[
### <span style="color: #A88B53; position: relative; top: 150px;"></span>
]

---

class: hide_logo



```
## Warning: package 'RefManageR' was built under R version 4.1.3
```

```
## Warning: package 'xaringanExtra' was built under R version 4.1.3
```

```
## Warning: package 'chromote' was built under R version 4.1.3
```

```
## Warning: package 'flipbookr' was built under R version 4.1.3
```

```
## Warning: package 'ggplot2' was built under R version 4.1.3
```

```
## Warning: package 'tibble' was built under R version 4.1.3
```

```
## Warning: package 'tidyr' was built under R version 4.1.3
```

```
## Warning: package 'readr' was built under R version 4.1.3
```

```
## Warning: package 'purrr' was built under R version 4.1.3
```

```
## Warning: package 'dplyr' was built under R version 4.1.3
```

```
## Warning: package 'stringr' was built under R version 4.1.3
```

```
## Warning: package 'forcats' was built under R version 4.1.3
```

```
## Warning: package 'ggfortify' was built under R version 4.1.3
```

```
## Warning: package 'scales' was built under R version 4.1.3
```

```
## Warning: package 'vangogh' was built under R version 4.1.3
```

```
## Warning: package 'hexbin' was built under R version 4.1.3
```

```
## Warning: package 'fBasics' was built under R version 4.1.3
```

```
## Warning: package 'raster' was built under R version 4.1.3
```

```
## Warning: package 'sp' was built under R version 4.1.3
```

```
## Warning: package 'rgdal' was built under R version 4.1.3
```

```
## Warning: package 'rgeos' was built under R version 4.1.3
```

<div>
<style type="text/css">.xaringan-extra-logo {
width: 150px;
height: 46px;
z-index: 0;
background-image: url(assets/sulogo_1.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
bottom:1em;left:60px;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.title-slide):not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('div')
          logo.classList = 'xaringan-extra-logo'
          logo.href = null
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>

## Outline &lt;svg viewBox="0 0 512 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"&gt;&lt;/path&gt;&lt;/svg&gt;

--

- ### What is a “visualisation”? 
- ### Why do we need visualisations? 

--
- ### Principles of data visualisation and the ‘grammar of graphics’  
- ### About 'mapping': don't reinvent the weel! 

--
- ### Visualisations in epidemiology: beyond scatterplots and pie-charts  

--
- ### Dynamic visualisations: dashboards and interactive graphs


???
Principles and techniques are very general, but we will focus on visualising data to support investigations in epidemiology.

---
## What is a “visualisation”?  &lt;svg viewBox="0 0 384 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"&gt;&lt;/path&gt;&lt;/svg&gt;

--
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
#.center[a visual explanation]

--

###.center[*anything that help us understanding something by looking at it*]

&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;

.right[.footnotesize[Martin Schweitzer, Data Technologist, [Australian Research Data Commons](https://ardc.edu.au/)]]


???
Key words: 
1. **looking**: obvious, as we are talking about 'visuals"; 
2. **understanding**: less obvious, this is what distinguish the type of visualisations we are talking about (**data** visualisations, with specific reference to epidemiological analysis) for other forms of 'visuals' such as artworks. 

---
class: hide_logo
.pull-left[
.center[
&lt;img src="images/miro.jpg" width="80%" style = "margin-top: 40px;" /&gt;
]
]

.pull-right[
.center[
&lt;img src="images/mycity.jpg" width="80%" style = "margin-top: 40px;" /&gt;
]
]
 
???
The line that separated artworks from the class of visualisations we are focusing in this seminar is thin, and one can easily argue that an artwork can help understanding something just looking at it. 
For example, the painting by the Spanish artist Juan Miro' on the left has a special part in my life and I can definitely say it helped me understanding aspects of mine more than many books and scientific articles... 

But the visualisations we are interested today are those were **the 'explanatory' purpose is at the core**, is the very **reason for their existence**, which is diffcult to say for artworks.

Another difference (again, with a thin separation line) is that data visualisation aim to be less **ambiguous** possible, i.e. they aim at creating the **same understanding** regardless of the viewer, which is not the case of artworks, where the personality and emotional state of the viewer are aintegral part of the understanding.

The map on the right has been created by the city so that anybody sitting, for example, in the civic centre and willing to go to the Waterfront can look at it and (hopefully) has the same understanding of which bus he/she has to catch...

---
class: hide_logo
background-image: url("images/lego.png")
background-position: 50% 45%
background-size: 50%

.footnote[.scriptsize[&lt;cite&gt;Agrawala, Phan, Heiser, Haymaker, Klingner, Hanrahan, and Tversky (2003)&lt;/cite&gt;]]

???
or all the children (or adults?) that is assembling this Lego car, hopefully end up with the same final result...

---
class: hide_logo, center, middle

.pull-left[
&lt;img src = "images/vangogh.jpg" width = "75%" /&gt;

.scriptsize[Vincent van Gogh Self-portrait, 1889.&lt;br/&gt;National Gallery of Art. Washington DC]

]

--

.pull-right[
![](index_files/figure-html/colours_1-1.png)&lt;!-- --&gt;
]

???

Note that I did not cite among the differences between 'scientific' and "artistic" visualisations concepts as "visual appeal" or "beauty": those apply to both 
visual artworks and data visualisations in the sense that we are considering today.

A data visualisation that is not visually appealing (with all the ambiguity that this word attracts: I am not a philosopher...), end up conveying less information...
The use of **colours**, **shapes**, ad their combinations follows the same **basic rules** as artistic compositions... 
Both types, at the end of the day, interact with the same type of sensors (the **human eyes**) and processing unit (our brain) and follows the same rules...  

The image on the left is a famous Van Gogh painting, where he uses **contrasting colours** (at the opposite of the **colour weel**)
Colours at the opposite end of the colour weel work together to create high levels of contrast. They make each other bolder and brighter, and our eyes love to see that in different kinds of art.

---
class: hide_logo, center, middle

.pull-left[
![](index_files/figure-html/colours_2-1.png)&lt;!-- --&gt;
]
--

.pull-right[
![](index_files/figure-html/colours_3-1.png)&lt;!-- --&gt;
]

???

This also works for a data visualisation, such as two-dimensional histogram (a **contour plot**, technically).
Using a palette such as the one in the van Gogh painting makes it easier to appreciate the values of the density in different areas. 
And it looks pretty...

---
class: hide_logo, center, middle

.pull-left[
&lt;img src = "images/vangogh.jpg" width = "75%" /&gt;
]

.pull-right[
![](index_files/figure-html/colours_4-1.png)&lt;!-- --&gt;
]

---
class: hide_logo
background-image: url("images/lang.png"), url("images/lau.png")
background-position: 70% 80%, 20% 10%
background-size: 70%, 70%

.footnote[.scriptsize[&lt;cite&gt;Lang (2009) Lau and Moere (2007)  &lt;/cite&gt;]]

---
class: middle, center

&lt;svg viewBox="0 0 384 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"&gt;&lt;/path&gt;&lt;/svg&gt;

# Why visualisations?

### * in epidemiology, applied statistics, data science...*

???
why do we need data visualisations? 
I am focusing now into our field of work: epidemiology and applied statistics...

What data visualisations can give us that numerical methods (staring with the many descriptive statistics we know and use currently) can't?  

Let see some examples... 

---
class: hide_logo, center, middle

&lt;img src="images/snow.jpg" width="70%" /&gt;

???
the utility of data visualisations in epidemiology is definitely not new...
You all recognise John Snow's map that allowed to understand the source of the Cholera epidemic in London (1854) in the Broad street water pump.

"The Broad Street Pump, John Snow memorial, Broadwick Street (formerly Broad Street) in, London. In 1854 an epidemic of cholera affected residents of Soho district. Dr. John Snow surveyed deaths reported in the homes mostly near the pump and used it for their drinking water. His documented evidence suggested that contaminated water from this pump was the source of the epidemic; he caused removal of the handle, and the already declining epidemic due to people leaving the area, ceased entirely."

But let us see some more general examples

---
class: middle, center
&lt;svg viewBox="0 0 544 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"&gt;&lt;/path&gt;&lt;/svg&gt;

# 1. Visualisations help to identify .content-box-yellow[patterns], .content-box-yellow[relationships], .content-box-yellow[structures]

???
and, at the end of the day, to give **meaning** hidden among **noise**

---
class: middle
## Example 1

.center[

```
       
 10  10
 10  20
 20  20
 20  10
 30  10
 10  10
 30  20
 40  20
 40  10
 10   0
 10 -10
 30  10
 20 -10
 20   0
 10 -10
 30   0
 30 -10
 40   0
 40 -10
 30 -10
```
]

---
class: middle, center

![](index_files/figure-html/points_2-1.png)&lt;!-- --&gt;

---
class: middle
## Example 2
 
.pull-left[
&lt;img src="images/tutu_hex.png" width="100%" /&gt;
]

--
.pull-right[
.center[
&lt;img src="images/tutu.jpg" width="80%" /&gt;
]
]

---
class: middle, center
&lt;svg viewBox="0 0 544 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"&gt;&lt;/path&gt;&lt;/svg&gt;

# 2. Visualisations let us .content-box-yellow[look beyond the broad features] of the data and see what else is there (i.e. discover what may be not obvious from numerical summaries)


???
i.e. visualisations are useful at the two extremes of data analysis: perceive and appreciate the broad structure of the data 
and look behind those broad features and see what else is there

- Visualisations help us perceive and appreciate some broad features of the data
- Visualisation let us look behind those broad features and see what else is there
*Anscombe1973*

---
class: hide_logo
background-image: url("images/Francis_Anscombe.jpg")
background-position: 20% 50%
background-size: 18%

## Example 3 

.pull-left[

.footnote[&lt;cite&gt;Anscombe (1973)&lt;/cite&gt;]
]
&lt;br/&gt;
.pull-right[
&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; x1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; y1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; y2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; y3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x4 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; y4 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.04 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9.14 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.46 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.58 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.95 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.14 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.77 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5.76 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.58 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.74 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 12.74 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.71 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.81 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.77 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.11 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.84 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.33 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9.26 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.81 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.47 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9.96 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.10 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.84 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.04 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.24 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.13 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.08 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5.25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 4.26 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 3.10 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5.39 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 12.50 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 10.84 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 9.13 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8.15 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5.56 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 4.82 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.26 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.42 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 7.91 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5.68 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 4.74 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 5.73 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;width: 1.5cm; "&gt; 6.89 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

???
Francis John Anscombe (13 May 1918 – 17 October 2001) was an English statistician.

Anscombe's quartet comprises four data sets that have nearly identical simple descriptive statistics, yet have very different distributions and appear very different when graphed. Each dataset consists of eleven (x,y) points. They were constructed in 1973 by the statistician Francis Anscombe to demonstrate both the importance of graphing data when analyzing it, and the effect of outliers and other influential observations on statistical properties. He described the article as being intended to counter the impression among statisticians that "numerical calculations are exact, but graphs are rough." 

---


.code120[

```
                 x1      y1      x2      y2      x3      y3      x4      y4
nobs        11.0000 11.0000 11.0000 11.0000 11.0000 11.0000 11.0000 11.0000
NAs          0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000
Minimum      4.0000  4.2600  4.0000  3.1000  4.0000  5.3900  8.0000  5.2500
Maximum     14.0000 10.8400 14.0000  9.2600 14.0000 12.7400 19.0000 12.5000
1. Quartile  6.5000  6.3150  6.5000  6.6950  6.5000  6.2500  8.0000  6.1700
3. Quartile 11.5000  8.5700 11.5000  8.9500 11.5000  7.9800  8.0000  8.1900
Mean         9.0000  7.5009  9.0000  7.5009  9.0000  7.5000  9.0000  7.5009
Median       9.0000  7.5800  9.0000  8.1400  9.0000  7.1100  8.0000  7.0400
Sum         99.0000 82.5100 99.0000 82.5100 99.0000 82.5000 99.0000 82.5100
SE Mean      1.0000  0.6125  1.0000  0.6126  1.0000  0.6122  1.0000  0.6122
LCL Mean     6.7719  6.1361  6.7719  6.1360  6.7719  6.1359  6.7719  6.1367
UCL Mean    11.2281  8.8657 11.2281  8.8658 11.2281  8.8641 11.2281  8.8651
Variance    11.0000  4.1273 11.0000  4.1276 11.0000  4.1226 11.0000  4.1232
Stdev        3.3166  2.0316  3.3166  2.0317  3.3166  2.0304  3.3166  2.0306
Skewness     0.0000 -0.0484  0.0000 -0.9787  0.0000  1.3801  2.4669  1.1208
Kurtosis    -1.5289 -1.1991 -1.5289 -0.5143 -1.5289  1.2400  4.5207  0.6288
```
]

---
background-image: url("images/box_red.png"),url("images/box_red.png"), url("images/box_red.png")
background-position: 80% 39% , 80% 48%, 80% 70%
background-size: 100% 7%, 100% 7%,100% 14% 

.code120[

```
                 x1      y1      x2      y2      x3      y3      x4      y4
nobs        11.0000 11.0000 11.0000 11.0000 11.0000 11.0000 11.0000 11.0000
NAs          0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000
Minimum      4.0000  4.2600  4.0000  3.1000  4.0000  5.3900  8.0000  5.2500
Maximum     14.0000 10.8400 14.0000  9.2600 14.0000 12.7400 19.0000 12.5000
1. Quartile  6.5000  6.3150  6.5000  6.6950  6.5000  6.2500  8.0000  6.1700
3. Quartile 11.5000  8.5700 11.5000  8.9500 11.5000  7.9800  8.0000  8.1900
Mean         9.0000  7.5009  9.0000  7.5009  9.0000  7.5000  9.0000  7.5009
Median       9.0000  7.5800  9.0000  8.1400  9.0000  7.1100  8.0000  7.0400
Sum         99.0000 82.5100 99.0000 82.5100 99.0000 82.5000 99.0000 82.5100
SE Mean      1.0000  0.6125  1.0000  0.6126  1.0000  0.6122  1.0000  0.6122
LCL Mean     6.7719  6.1361  6.7719  6.1360  6.7719  6.1359  6.7719  6.1367
UCL Mean    11.2281  8.8657 11.2281  8.8658 11.2281  8.8641 11.2281  8.8651
Variance    11.0000  4.1273 11.0000  4.1276 11.0000  4.1226 11.0000  4.1232
Stdev        3.3166  2.0316  3.3166  2.0317  3.3166  2.0304  3.3166  2.0306
Skewness     0.0000 -0.0484  0.0000 -0.9787  0.0000  1.3801  2.4669  1.1208
Kurtosis    -1.5289 -1.1991 -1.5289 -0.5143 -1.5289  1.2400  4.5207  0.6288
```
]

---
.pull-left[

```r
"Set 1:"
coefficients(lm(y1 ~ x1, data = data))

"Set 2:"
coefficients(lm(y2 ~ x2, data = data))

"Set 3:"
coefficients(lm(y3 ~ x3, data = data))

"Set 4:"
coefficients(lm(y4 ~ x4, data = data))
```
]
.pull-right[

```
[1] "Set 1:"
```

```
(Intercept)          x1 
  3.0000909   0.5000909 
```

```
[1] "Set 2:"
```

```
(Intercept)          x2 
   3.000909    0.500000 
```

```
[1] "Set 3:"
```

```
(Intercept)          x3 
  3.0024545   0.4997273 
```

```
[1] "Set 4:"
```

```
(Intercept)          x4 
  3.0017273   0.4999091 
```
]
---



.vcenter-3[
![](index_files/figure-html/anscombe_out_4-1.png)&lt;!-- --&gt;
]

---



.vcenter-3[
![](index_files/figure-html/anscombe_out_5-1.png)&lt;!-- --&gt;
]

---
class: middle, center
&lt;svg viewBox="0 0 544 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"&gt;&lt;/path&gt;&lt;/svg&gt;

# 3. Visualisations let us convey information in a way that is otherwise difficult/impossible to convey

---
class: hide_logo
background-image: url("images/Roomaney2022d.png")
background-position: 50% 60%
background-size: 60%

## Example 4

.footnote[.scriptsize[&lt;cite&gt;Roomaney, Cairncross, Tesfaye, Kapwata, Abdulatif, Olivier, Mathibela, Cois, and others (2022)&lt;/cite&gt;]]

???
Particulate matter 2.5 (micrograms/m2) ambient ozone (ppb)

---
class: hide_logo
## Example 5

.center[
&lt;img src="images/asthma.jpg" width="70%" /&gt;


.footnotesize[
*Map of Polluting Power Plants and heat map of environmental risk factors in Los Angeles County*
]
]
.footnote[.scriptsize[https://www.esri.com/en-us/lg/industry/education/data-visualization-provides-capabilities-complex-health-care-issues]]

---
class: hide_logo
background-image: url("images/facebook-network.png")
background-position: 50% 60%
background-size: 47%

## Example 6

.footnote[.scriptsize[https://griffsgraphs.wordpress.com/2012/07/02/a-facebook-network/]]

???
(complex) Social networks

---
class: middle, center
&lt;svg viewBox="0 0 544 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"&gt;&lt;/path&gt;&lt;/svg&gt;

# 4. There is more...

---
class: hide_logo
background-image: url("images/Dykes2022.png")
background-position: 50% 50%,
background-size: 100%

.pull-right[
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
&lt;img src = "images/link.png"&gt;&lt;/img&gt;
[Supplementary Materials](https://rs.figshare.com/collections/Supplementary_material_from_Visualization_for_epidemiological_modelling_challenges_solutions_reflections_and_recommendations_/6080807)
]
.right[&lt;cite&gt;&lt;/cite&gt;]
---
class: hide_logo
## Data visualisation: principles 

&lt;br/&gt;
.center[.large[Graphical visualisations should:]]
- show the data
- induce the viewer to think about the substance rather than about methodology
- avoid distorting what the data have to say
- present many numbers in a small space and make large data sets coherent
- encourage the eye to compare different pieces of data
- reveal the data at several levels of detail
- serve a reasonably clear purpose

.footnote[.scriptsize[&lt;cite&gt;Tufte (1985)&lt;/cite&gt;]]

???
A very short summary of the basic principle behind data visualisation

---
class: hide_logo
background-image: url("images/grammar-of-graphics.png")
background-position: 75% 50%
background-size: 30%
## The grammar of graphics

.pull-left[
&lt;br/&gt; 
.large[
in **linguistics**: 

*a grammar is a formal system of rules for generating lawful statements in a language*

in **data visualisation**:

*a grammar is a formal system of rules for generating visual representations of data*

]
]
.footnote[.scriptsize[&lt;cite&gt;Wilkinson (2012)&lt;/cite&gt;]]

???
Grammar has a technical meaning in linguistics. In the transformational
theory of Chomsky (1956), **a grammar is a formal system of rules for generating lawful statements in a language**. 

**Grammar makes language expressive**. A language consisting of words
and no grammar (statement = word) expresses only as many ideas as there are
words. **By specifying how words are combined in statements, a grammar expands a language’s scope**.


---
class: middle, hide_logo 
&lt;svg viewBox="0 0 544 512" style="height:1em;display:inline-block;fill:#561a34;position:fixed;top:38;right:50;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"&gt;&lt;/path&gt;&lt;/svg&gt;

&lt;br/&gt; 

# .small[A grammar of graphics is a tool that enables us to .content-box-yellow[concisely describe the components of a graphic]. Such a grammar allows us to move beyond named graphics and .content-box-yellow[gain insight into the deep structure] that underlies statistical graphics.] 

.footnote[.scriptsize[&lt;cite&gt;Wickham (2010)&lt;/cite&gt;]]

---
class: hide_logo 
## Avantages 

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
.center[
# .small[Coherence]
# .small[Consistency]
# .small[Multiple perspectives of the same data]
]

???
Constructing visual representations according to a fixed set of rules (a *grammar*) has as series of advantages

- In many software packages, each graph type is treated separately (scatter plot, pie chart, bar chart).
- This leads to the burden of needing to learn the syntax or interface of each plot type.
- It also obscures the reality that data can typically be visualized in many different ways (and trying out a few is usually beneficial)
- A related challenge is implementing consistent decisions for colors, axis labeling, grid lines, etc.

---
class: hide_logo
background-image: url("images/elements_1.png")
background-position: 50% 50%
background-size: 100%
# Elements of a data visualisation

???
7 elements.
the "grammar of graphics' provides rules to combine the different elements in a "lawful" way in order to produce visual representations of the data.

any visual representation of data must define each of the 7 elements. 

---
background-image: url("images/elements_2.png")
background-position: 50% 50%
background-size: 100%
# Elements of a data visualisation

???
Together, the data, mappings, statistical transformation, and geometric object form a layer.
A plot may have multiple layers, for example, when we overlay a scatterplot with a smoothed line.

---
class: hide_logo
background-image: url("images/grammar-of-graphics.png"), url("images/ggplot2.png")
background-position: 20% 60%, 75% 60%
background-size: 25%, 25%
# R and the grammar of graphics: ggplot 


???
Together, the data, mappings, statistical transformation, and geometric object form a layer.
A plot may have multiple layers, for example, when we overlay a scatterplot with a smoothed line.

---
background-image: url("images/elements_3.png")
background-position: 75% 55%
background-size: 25%
# Building a data visualisation
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;


## install.packages(*ggplot2*)

## library(*ggplot2*)

---
class: middle


```r
  load("data/alcohol.RData")   
  alcohol &lt;- subset(alcohol, agecat == "25-34")
  head(alcohol)
```

```
   agecat year gender       mu    mu_lb    mu_ub     mu_se         p      p_lb
39  25-34 2001 Female 30.20712 28.82477 31.47207 0.3226909 0.1801901 0.1691567
40  25-34 2002   Male 71.71808 68.65423 74.83772 0.7958249 0.6233061 0.6078833
41  25-34 1998   Male 82.15356 76.94370 87.55461 1.3778173 0.6600883 0.6375620
42  25-34 2002 Female 29.17069 27.81249 30.44724 0.3256509 0.1822467 0.1722097
43  25-34 2007   Male 62.11512 59.54453 64.70849 0.6615726 0.5943899 0.5814711
44  25-34 2006   Male 63.71195 61.09350 66.36532 0.6768780 0.5978681 0.5846528
        p_ub
39 0.1912124
40 0.6387711
41 0.6824961
42 0.1923144
43 0.6069699
44 0.6107444
```

---

count: false
 

.panel1-visual_1-auto[

```r
*ggplot(alcohol)
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_01_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
* aes(x = year)   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_02_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
* aes(y = mu)   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_03_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
* geom_point()   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_04_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
* aes(colour = gender)   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_05_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
* aes(size = 1/mu_se)   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_06_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
* facet_grid(.~gender)   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_07_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
* ylab("Average consumption [g/day]")   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_08_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
* xlab("Year")   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_09_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
* coord_cartesian(ylim = c(0,100))   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_10_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
  coord_cartesian(ylim = c(0,100)) +  # BREAK
* theme_classic()   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_11_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
  coord_cartesian(ylim = c(0,100)) +  # BREAK
  theme_classic() +  # BREAK
* theme_gdocs()   # BREAK
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_12_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
  coord_cartesian(ylim = c(0,100)) +  # BREAK
  theme_classic() +  # BREAK
  theme_gdocs() +  # BREAK
* theme_economist()
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_13_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_1-auto[

```r
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point() +  # BREAK
  aes(colour = gender) +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  facet_grid(.~gender) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
  coord_cartesian(ylim = c(0,100)) +  # BREAK
  theme_classic() +  # BREAK
  theme_gdocs() +  # BREAK
  theme_economist()
```
]
 
.panel2-visual_1-auto[
![](index_files/figure-html/visual_1_auto_14_output-1.png)&lt;!-- --&gt;
]

&lt;style&gt;
.panel1-visual_1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-visual_1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-visual_1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---

count: false
 

.panel1-visual_2-auto[

```r
*alcohol &lt;- subset(alcohol,
*                 gender == "Male")
```
]
 
.panel2-visual_2-auto[

]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
*ggplot(alcohol)
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_02_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
* aes(x = year)   # BREAK
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_03_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
* aes(y = mu)   # BREAK
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_04_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
* geom_point(colour = "blue")   # BREAK
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_05_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point(colour = "blue") +  # BREAK
* aes(size = 1/mu_se)   # BREAK
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_06_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point(colour = "blue") +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
* ylab("Average consumption [g/day]")   # BREAK
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_07_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point(colour = "blue") +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
* xlab("Year")   # BREAK
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_08_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point(colour = "blue") +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
* coord_polar()
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_09_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_2-auto[

```r
alcohol &lt;- subset(alcohol,
                  gender == "Male")
ggplot(alcohol) +
  aes(x = year) +  # BREAK
  aes(y = mu) +  # BREAK
  geom_point(colour = "blue") +  # BREAK
  aes(size = 1/mu_se) +  # BREAK
  ylab("Average consumption [g/day]") +  # BREAK
  xlab("Year") +  # BREAK
  coord_polar()
```
]
 
.panel2-visual_2-auto[
![](index_files/figure-html/visual_2_auto_10_output-1.png)&lt;!-- --&gt;
]

&lt;style&gt;
.panel1-visual_2-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-visual_2-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-visual_2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;




---

count: false
 

.panel1-visual_3-auto[

```r
*load("data/alcohol.RData")
```
]
 
.panel2-visual_3-auto[

]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
*alcohol &lt;- subset(alcohol,
*                 gender == "Male" &amp;
*                 year == 2016)
```
]
 
.panel2-visual_3-auto[

]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

*ggplot(alcohol)   # BREAK
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_03_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
* aes(x = 1)   # BREAK
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_04_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
* aes(y = p)   # BREAK
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_05_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
* geom_bar(stat = "Identity",
*          position = "stack")   # BREAK
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_06_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
* aes(fill = agecat)   # BREAK
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_07_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
* coord_polar(theta = "y")   # BREAK
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_08_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
* xlab("")
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_09_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
  xlab("") +
* ylab("")
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_10_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
  xlab("") +
  ylab("") +
* theme(axis.text.x=element_blank())
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_11_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
  xlab("") +
  ylab("") +
  theme(axis.text.x=element_blank()) +
* theme(axis.text.y=element_blank())
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_12_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
  xlab("") +
  ylab("") +
  theme(axis.text.x=element_blank()) +
  theme(axis.text.y=element_blank()) +
* theme(axis.ticks.x = element_blank())
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_13_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
  xlab("") +
  ylab("") +
  theme(axis.text.x=element_blank()) +
  theme(axis.text.y=element_blank()) +
  theme(axis.ticks.x = element_blank()) +
* theme(axis.text.x = element_blank())
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_14_output-1.png)&lt;!-- --&gt;
]

---
count: false
 

.panel1-visual_3-auto[

```r
load("data/alcohol.RData")
alcohol &lt;- subset(alcohol,
                  gender == "Male" &amp;
                  year == 2016)

ggplot(alcohol) +  # BREAK
  aes(x = 1) +  # BREAK
  aes(y = p) +  # BREAK
  geom_bar(stat = "Identity",
           position = "stack") +  # BREAK
  aes(fill = agecat) +  # BREAK
  coord_polar(theta = "y") +  # BREAK
  xlab("") +
  ylab("") +
  theme(axis.text.x=element_blank()) +
  theme(axis.text.y=element_blank()) +
  theme(axis.ticks.x = element_blank()) +
  theme(axis.text.x = element_blank())
```
]
 
.panel2-visual_3-auto[
![](index_files/figure-html/visual_3_auto_15_output-1.png)&lt;!-- --&gt;
]

&lt;style&gt;
.panel1-visual_3-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-visual_3-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-visual_3-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---
class: hide_logo 
background-image: url("images/separation.png")
background-position: 50% 50%
background-size: 100%

???
separation between data and visualisation, through the different "layers": this is the key for creating dynamic graphs!
(And also to ensure consistency, coordination, clarity...)
Don't mix content with representation!

---
class: hide_logo 
background-image: url("images/cleveland.png")
background-position: 50% 50%
background-size: 80%
## About mapping...


.footnote[.scriptsize[&lt;cite&gt;Cleveland and McGill (1984)&lt;/cite&gt;]]

---
class: hide_logo 
background-image: url("images/brewer.png")
background-position: 50% 50%
background-size: 70%

.footnote[https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3]

---

class: middle, hide_logo 

# Visualisations in epidemiology: beyond scatterplots and pie-charts  

???
Just some inspiring example...

---
class: hide_logo
background-image: url("images/gallery.png")
background-position: 50% 50%
background-size: 80%


.footnote[https://r-graph-gallery.com]

---
class: middle, hide_logo 

# Dynamic visualisations: dashboards and interactive graphs

???

new possibilities thansk to cloud computing, cheap servers, development of standards in web programming (HTML5, Javascript, REST APIs..)

just some examples for thinking

---
class: middle, center

.content-box-yellow[https://www.healthdata.org/data-tools-practices/interactive-data-visuals]
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
.content-box-yellow[https://worldmapper.org] 
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
.content-box-yellow[https://guides.lib.umich.edu/c.php?g=282808&amp;p=1884429]

---
class: hide_logo 
background-image: url("images/SACRA.png")
background-position: 50% 50%
background-size: 40%

 https://sacra2.shinyapps.io/alcohol/
 
---
class: hide_logo 
background-image: url("images/surveylab.png")
background-position: 50% 50%
background-size: 80%
 
 https://surveylab.sun.ac.za/
 
---
class: hide_logo
background-image: url("images/reading.png")
background-position: 90% 90%
background-size: 20%
## References  

.scriptsize[
Agrawala, M., D. Phan, J. Heiser, et al. (2003). "Designing effective
step-by-step assembly instructions". In: _ACM Transactions on Graphics
(TOG)_ 22.3, pp. 828-837.

Anscombe, F. J. (1973). "Graphs in Statistical Analysis". In: _The
American Statistician_ 27.1, pp. 17-21. ISSN: 00031305. URL:
[http://www.jstor.org/stable/2682899](http://www.jstor.org/stable/2682899)
(visited on Oct. 24, 2022).

Cleveland, W. S. and R. McGill (1984). "Graphical Perception: Theory,
Experimentation, and Application to the Development of Graphical
Methods". In: _Journal of the American Statistical Association_ 79.387,
pp. 531-554. ISSN: 01621459. URL:
[http://www.jstor.org/stable/2288400](http://www.jstor.org/stable/2288400)
(visited on Oct. 26, 2022).

Lang, A. (2009). "Aesthetics in information visualization". In: _Trends
in information visualization_ 8.

Lau, A. and A. V. Moere (2007). "Towards a model of information
aesthetics in information visualization". In: _2007 11th International
Conference Information Visualization (IV'07)_. IEEE. , pp. 87-92.

Roomaney, R., E. Cairncross, M. Tesfaye, et al. (2022). "Estimating the
burden of disease attributable to ambient air pollution (ambient PM2.5
and ambient ozone) in South Africa for 2000, 2006 and 2012". En. In:
_South African Medical Journal_, pp. 705-717. ISSN: 2078-5135. DOI:
[10.7196/SAMJ.2022.v112i8b.16483](https://doi.org/10.7196%2FSAMJ.2022.v112i8b.16483).
URL:
[https://samajournals.co.za/index.php/samj/article/view/215](https://samajournals.co.za/index.php/samj/article/view/215)
(visited on Oct. 03, 2022).

Tufte, E. R. (1985). "The visual display of quantitative information".
In: _The Journal for Healthcare Quality (JHQ)_ 7.3, p. 15.

Wickham, H. (2010). "A Layered Grammar of Graphics". In: _Journal of
Computational and Graphical Statistics_ 19.1, pp. 3-28. DOI:
[10.1198/jcgs.2009.07098](https://doi.org/10.1198%2Fjcgs.2009.07098).

Wilkinson, L. (2012). "The grammar of graphics". In: _Handbook of
computational statistics_. Springer, pp. 375-414.
]

---
class: su-white
&lt;br/&gt;&lt;br/&gt;

.font200[
&lt;p style ="font-size:200%; margin-bottom: -10px; margin-left: -5px;"&gt;Thank You!&lt;/p&gt;
[ acois@sun.ac.za](mailto:acois@sun.ac.za)
]
&lt;br/&gt;&lt;br/&gt;

&lt;div style = "text-align: right; position: fixed; right: 100px;"&gt;

&lt;img src = "images/github.png" width = "85"&gt;&lt;/img&gt; &lt;br/&gt;&lt;br/&gt;
The rmarkdown code of this presentation is available on GitHub: &lt;br/&gt; 
&lt;a href = "https://github.com/AnnibaleCois/DataVisualisation"&gt;https://github.com/AnnibaleCois/DataVisualisation&lt;/a&gt; 

&lt;/div&gt;

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="assets/remark-zoom.js"></script>
<script src="assets/cols_macro.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true,
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
